{"version":3,"file":"static/js/414.5b6707f2.chunk.js","mappings":"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","sources":["DoctorDashboard/CreatePost.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport {\r\n  FILE_HEADER,\r\n  GET_POST_BY_USER_ID,\r\n  JSON_HEADER,\r\n  POST_HANDLER,\r\n  PostCreated,\r\n  UserHandler,\r\n} from \"../utils/Const\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setUserData, setUserPosts } from \"../Redux/Actions\";\r\nimport TextEditor from \"../Components/Text\";\r\nimport { useLayoutEffect } from \"react\";\r\n\r\nfunction CreatePost() {\r\n  const navigate = useNavigate();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [slug, setSlug] = useState(\"\");\r\n  const [image1, setImage1] = useState(null);\r\n  const [image2, setImage2] = useState(null);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [categoryName, setCategoryName] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const basicData = useSelector((state) => state.handleUserBasicData);\r\n  const masterData = useSelector((state) => state.handleMasterData);\r\n  const [categories, setCategories] = useState(masterData.categroies);\r\n  const Dispatch = useDispatch();\r\n\r\n  useLayoutEffect(() => { });\r\n\r\n  const handleTitleChange = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n\r\n  const handleSlugChange = (e) => {\r\n    setSlug(e.target.value);\r\n  };\r\n\r\n  const handleImage1Change = (e) => {\r\n    setImage1(e.target.files[0]);\r\n  };\r\n\r\n  const handleImage2Change = (e) => {\r\n    setImage2(e.target.files[0]);\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    setCategoryName(e.target.value);\r\n    for (let i = 0; i < categories.length; i++) {\r\n      const element = categories[i];\r\n      if (element.name == e.target.value) {\r\n        setCategory(element._id);\r\n      }\r\n    }\r\n  };\r\n  const handleDescriptionChange = (e) => {\r\n    setDesc(e.target.value);\r\n  };\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const fd = new FormData();\r\n    fd.append(\"title\", title);\r\n    fd.append(\"categoriesId\", category);\r\n    fd.append(\"image1\", image1);\r\n    fd.append(\"image2\", image2);\r\n    fd.append(\"description\", desc);\r\n    fd.append(\"postedByID\", basicData.uid);\r\n    fd.append(\"status\", 0);\r\n    fd.append(\"slug\", slug);\r\n\r\n    fetch(POST_HANDLER, {\r\n      method: \"POST\",\r\n      headers: FILE_HEADER,\r\n      body: fd,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        fetch(PostCreated, {\r\n          method: \"POST\",\r\n          headers: JSON_HEADER,\r\n          body: JSON.stringify({ _id: basicData.uid })\r\n        }).then(d => {\r\n          fetch(UserHandler, {\r\n            method: \"POST\",\r\n            headers: JSON_HEADER,\r\n            body: JSON.stringify({ _id: basicData.uid })\r\n          }).then(d => {\r\n            if (d.ok) {\r\n              d.json().then(d => {\r\n                Dispatch(setUserData(d.data))\r\n              })\r\n            }\r\n          })\r\n        })\r\n        fetch(GET_POST_BY_USER_ID, {\r\n          method: \"POST\",\r\n          headers: JSON_HEADER,\r\n          body: JSON.stringify({ uid: basicData.uid }),\r\n        }).then((res) => {\r\n          if (res.ok) {\r\n            res.json().then((data) => {\r\n              let d = data.data;\r\n              Dispatch(setUserPosts(d));\r\n              navigate(\"/doctor/posts\");\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"px-0 py-0 \">\r\n        <div className=\"flex flex-no-wrap items-start\">\r\n          <div className=\"w-full \">\r\n            <div className=\"py-4 px-2\">\r\n              <div className=\"bg-white rounded shadow mt-7 py-7\">\r\n                <form onSubmit={handleFormSubmit}>\r\n                  <div className=\"mt-10 px-7\">\r\n                    <p className=\"text-xl font-semibold leading-tight text-gray-800\">\r\n                      Create New Post\r\n                    </p>\r\n\r\n                    <div className=\"grid w-full grid-cols-1 lg:grid-cols-2 md:grid-cols-1 gap-7 mt-7 \">\r\n                      <div>\r\n                        <p className=\"text-base font-medium leading-none text-gray-800\">\r\n                          Title\r\n                        </p>\r\n                        <input\r\n                          className=\"w-full p-3 mt-4 border border-gray-300 rounded outline-none focus:bg-gray-50\"\r\n                          value={title}\r\n                          required\r\n                          onChange={handleTitleChange}\r\n                        />\r\n                        <p className=\"mt-3 text-xs leading-3 text-gray-600\">\r\n                          Set a simple and precise title\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-base font-medium leading-none text-gray-800\">\r\n                          Slug\r\n                        </p>\r\n                        <input\r\n                          className=\"w-full p-3 mt-4 border border-gray-300 rounded outline-none focus:bg-gray-50\"\r\n                          value={slug}\r\n                          required\r\n                          onChange={handleSlugChange}\r\n                        />\r\n                        <p className=\"mt-3 text-xs leading-[15px] text-gray-600\">\r\n                          Set Slug and remember slug must be unique \r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-base font-medium leading-none text-gray-800\">\r\n                          Category\r\n                        </p>\r\n                        <select\r\n                          className=\"w-full p-4 mt-4 border border-gray-300 rounded outline-none focus:bg-gray-50\"\r\n                          value={categoryName}\r\n                          required\r\n                          onChange={handleCategoryChange}\r\n                        >\r\n                          <option value=\"\">Select category</option>\r\n                          {categories.map((item, index) => {\r\n                            return (\r\n                              <option key={index} value={item.name}>\r\n                                {item.name}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                        <p className=\"mt-3 text-xs leading-[15px] text-gray-600\">\r\n                          Select a category for your post\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-base font-medium leading-none text-gray-800\">\r\n                          Image1\r\n                        </p>\r\n                        <input\r\n                          accept=\"image/*\"\r\n                          type=\"file\"\r\n                          className=\"w-full p-3 mt-4 border border-gray-300 rounded outline-none focus:bg-gray-50\"\r\n                          onChange={handleImage1Change}\r\n                        />\r\n                        <p className=\"mt-3 text-xs leading-[15px] text-gray-600\">\r\n                          Set the main image for the Post with a 1:1 Ratio\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-base font-medium leading-none text-gray-800\">\r\n                          Image2\r\n                        </p>\r\n                        <input\r\n                          accept=\"image/*\"\r\n                          type=\"file\"\r\n                          className=\"w-full p-3 mt-4 border border-gray-300 rounded outline-none focus:bg-gray-50\"\r\n                          onChange={handleImage2Change}\r\n                        />\r\n                        <p className=\"mt-3 text-xs leading-[15px] text-gray-600\">\r\n                          Set a high-quality image for your post\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"pt-6 border-gray-300 mt-2 px-7\">\r\n                    <p className=\"text-base font-semibold leading-4 text-gray-800\">\r\n                      Description\r\n                    </p>\r\n                    <TextEditor placeholder={\"Description\"} setDesc={(d) => { setDesc(d); console.log(d); }} />\r\n                  </div>\r\n                  <p className=\"mt-3 text-xs leading-[15px] text-gray-600 px-7\">\r\n                    Enter product meta description for better understanding\r\n                  </p>\r\n                  <hr className=\"h-[1px] bg-gray-100 my-14\" />\r\n                  <div className=\"flex flex-col flex-wrap items-center justify-center w-full px-7 lg:flex-row lg:justify-end md:justify-end gap-x-4 gap-y-4\">\r\n                    <button\r\n                      onClick={() => navigate(\"/doctor/posts\")}\r\n                      className=\"bg-white border-[#452a72] rounded hover:bg-[#452a72] transform duration-300 ease-in-out text-sm font-medium px-6 py-4 text-[#452a72] hover:text-white border lg:max-w-[95px]  w-full \"\r\n                    >\r\n                      Back\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      // onClick={handleFormSubmit}\r\n                      className=\"bg-[#452a72] rounded hover:bg-transparent border border-[#452a72] transform duration-300 ease-in-out text-sm font-medium px-6 py-4 text-white hover:text-[#452a72] lg:max-w-[144px] w-full  \"\r\n                    >\r\n                      Create\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreatePost;\r\n"],"names":["navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","slug","setSlug","_useState5","_useState6","image1","setImage1","_useState7","_useState8","image2","setImage2","_useState9","_useState10","category","setCategory","_useState11","_useState12","categoryName","setCategoryName","_useState13","_useState14","desc","setDesc","basicData","useSelector","state","handleUserBasicData","masterData","handleMasterData","_useState15","categroies","_useState16","categories","Dispatch","useDispatch","useLayoutEffect","_jsx","_Fragment","children","className","_jsxs","onSubmit","e","preventDefault","fd","FormData","append","uid","fetch","POST_HANDLER","method","headers","FILE_HEADER","body","then","res","ok","PostCreated","JSON_HEADER","JSON","stringify","_id","d","UserHandler","json","setUserData","data","GET_POST_BY_USER_ID","setUserPosts","value","required","onChange","target","i","length","element","name","map","item","index","accept","type","files","TextEditor","placeholder","console","log","onClick"],"sourceRoot":""}